/*!
 * jQuery.nwslider v0.2
 *
 * Copyright 2013, Haruki Konishi
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */
!function($){function Plugin(el,o){this.el=$(el),this.o=$.extend({},defaults,o),this.init()}var name="nwslider",defaults={speed:800,delay:4e3,pause:!0,loop:!0,complete:!1,items:".nw-slides",item:">li",thumbs:".nw-thumbs",thumb:">li",nav:".nw-nav"};Plugin.prototype={init:function(){var _=this,el=_.el,o=_.o;_.items=el.find(o.items),_.item=_.items.find(o.item),_.item.len=_.item.length,_.nav=el.find(o.nav),_.thumbs=el.find(o.thumbs),_.thumb=_.thumbs.find(o.thumb),_.thumb.len=_.thumb.length,_.thumb.size=_.thumb.eq(0).outerHeight(),_.thumbs.basePos=_.thumbs.position().top-2*_.thumb.size,_.thumbs.limitPos=-(_.thumb.len*_.thumb.size-_.thumbs.basePos),_.index=0,_.setup()},setup:function(){var z,html,_=this;_.item.eq(0).addClass("active"),z=_.item.len,_.item.each(function(){$(this).css({position:"absolute","z-index":z}),z--}).not(".active").hide(),_.thumb.len>1&&(_.thumbs.prepend(_.thumb.slice(-2).clone()).append(_.thumb.slice(0,2).clone()).css({top:_.thumbs.basePos}),html='<span class="nw-prev nw-prev-cover"></span><span class="nw-next nw-next-cover"></span><a class="nw-prev">Previous</a><a class="nw-next">Next</a>',_.nav.append(html).on("click",".nw-prev",function(e){e.preventDefault(),_.prev()}).on("click",".nw-next",function(e){e.preventDefault(),_.next()})),_.o.delay&&(_.play(),_.o.pause&&_.items.on("mouseover mouseout",function(e){_.stop(),"mouseout"===e.type&&_.play()}))},move:function(index,callback){var _=this,o=_.o,current=_.item.eq(_.index),target=_.item.eq(index),range=_.thumb.size,limit=_.thumbs.limitPos,base=_.thumbs.basePos;if(target.length&&!(0>index)||o.loop){index<_.index&&(range=-range,limit=_.thumbs.basePos,base=_.thumbs.limitPos),target.length||(index=0),0>index&&(index=_.item.length-1),target=_.item.eq(index);var speed=callback?5:0|o.speed;return callback&&(range*=index),_.thumbs.position().top===limit&&_.thumbs.css({top:base}),_.thumbs.not(":animated").animate({top:_.thumbs.position().top-range},speed,function(){var me=$(this);me.position().top===limit&&me.css({top:base}),current.fadeOut(speed),target.fadeIn(speed),_.index=index,$.isFunction(o.complete)&&!callback&&o.complete(_.el)}),_}},play:function(){var _=this;this.timer=setInterval(function(){_.move(_.index+1)},this.o.delay)},stop:function(){return this.timer=clearInterval(this.timer),this},next:function(){return this.stop().move(this.index+1).play()},prev:function(){return this.stop().move(this.index-1).play()}},$.fn[name]=function(o){return this.each(function(){$.data(this,name)||$.data(this,name,new Plugin(this,o))})}}(jQuery,window,document);